
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Poignant Code</title>
  <meta name="author" content="Sean Marcia">

  
  <meta name="description" content="The Ruby Koans are something every rubyist knows about and has done about 75% of the way through but never seems to finish. After reading about Nola &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Poignantcode.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Poignant Code" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42412754-1', 'poignantcode.com');
  ga('send', 'pageview');

</script>

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Poignant Code</a></h1>
  
    <h2>“when you don't create things, you become defined by your tastes rather than ability. your tastes only narrow & exclude people. so create.” ― Why The Lucky Stiff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:Poignantcode.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/22/ruby-koans/">Ruby Koans</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-22T13:22:00-05:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The Ruby Koans are something every rubyist knows about and has done about 75% of the way through but never seems to finish. After reading about <a href="http://blog.rubygeek.com/2012/09/06/playing-with-rubykoans/">Nola&#8217;s experience</a> I thought it was about time I got all the way through. While working through I found one example that shows just how well done and fun they are and I thought I&#8217;d share.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Triangle Project Code.</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Triangle analyzes the lengths of the sides of a triangle</span>
</span><span class='line'><span class="c1"># (represented by a, b and c) and returns the type of triangle.</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># It returns:</span>
</span><span class='line'><span class="c1">#   :equilateral  if all sides are equal</span>
</span><span class='line'><span class="c1">#   :isosceles    if exactly 2 sides are equal</span>
</span><span class='line'><span class="c1">#   :scalene      if no sides are equal</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1"># The tests for this method can be found in</span>
</span><span class='line'><span class="c1">#   about_triangle_project.rb</span>
</span><span class='line'><span class="c1"># and</span>
</span><span class='line'><span class="c1">#   about_triangle_project_2.rb</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="k">def</span> <span class="nf">triangle</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">a</span><span class="o">&lt;=</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">b</span><span class="o">&lt;=</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">c</span><span class="o">&lt;=</span><span class="mi">0</span>
</span><span class='line'>    <span class="nb">fail</span> <span class="no">TriangleError</span><span class="p">,</span> <span class="s2">&quot;Sides must all have length greater than 0.&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">myArray</span> <span class="o">=</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">]</span>
</span><span class='line'>  <span class="n">maxSide</span> <span class="o">=</span> <span class="n">myArray</span><span class="o">.</span><span class="n">max</span>
</span><span class='line'>  <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>  <span class="n">myArray</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">myEle</span><span class="o">|</span> <span class="n">total</span> <span class="o">+=</span> <span class="n">myEle</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">total</span> <span class="o">-</span> <span class="n">maxSide</span> <span class="o">&lt;=</span> <span class="n">maxSide</span>
</span><span class='line'>    <span class="nb">fail</span> <span class="no">TriangleError</span><span class="p">,</span> <span class="s2">&quot;Sum of shortest two sides must be greater than length of longest side.&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="n">b</span> <span class="ow">and</span> <span class="n">a</span><span class="o">==</span><span class="n">c</span>
</span><span class='line'>     <span class="ss">:equilateral</span>
</span><span class='line'>  <span class="k">elsif</span> <span class="n">a!</span><span class="o">=</span><span class="n">b</span> <span class="ow">and</span> <span class="n">b!</span><span class="o">=</span><span class="n">c</span> <span class="ow">and</span> <span class="n">a!</span><span class="o">=</span><span class="n">c</span>
</span><span class='line'>    <span class="ss">:scalene</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="ss">:isosceles</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Error class used in part 2.  No need to change this code.</span>
</span><span class='line'><span class="k">class</span> <span class="nc">TriangleError</span> <span class="o">&lt;</span> <span class="no">StandardError</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Looking at this you can probably immediately see that the problem is with the error handling, it is attempting to use fail rather than raise. Each of the exercises are meant to teach you something about how Ruby works.</p>

<p>If you are not familiar with <a href="http://rubykoans.com/">RubyKoans</a> I suggest you check it out.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/06/sql-old-school-part-2/">SQL Old School Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T09:22:00-05:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here is the second SQL example that took me more googling than it should have so I thought I&#8217;d also post about it.
Lets assume we have a SQL table with employee bonuses in it. We know how easy it is to find the highest bonus.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">max</span><span class="p">(</span><span class="n">emp_bonus</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employeetable</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or the smallest bonus.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">min</span><span class="p">(</span><span class="n">emp_bonus</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employeetable</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, what if we want to know what the 8th highest bonus was? It turns out it is a lot easier than it seemed (at least to me.)</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">min</span><span class="p">(</span><span class="n">emp_bonus</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employeetable</span>
</span><span class='line'><span class="k">WHERE</span> <span class="n">emp_bonus</span> <span class="k">IN</span>
</span><span class='line'><span class="p">(</span><span class="k">SELECT</span> <span class="k">distinct</span> <span class="n">top</span> <span class="mi">8</span> <span class="n">emp_bonus</span> <span class="k">FROM</span> <span class="n">employeetable</span> <span class="k">order</span> <span class="k">by</span> <span class="n">emp_bonus</span> <span class="k">desc</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we wanted the 120th highest bonus we would just make it the top 120.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/05/sql-old-school/">SQL Old School</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-05T12:41:00-05:00" pubdate data-updated="true">Dec 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Those of us who use Rails and have access to its magnificent ORM often take for granted how much it gives us. This came up recently when I needed to find some duplicate entries using SQL queries. I&#8217;ve changed table names to keep things private but everything else is the same.</p>

<p>Let say you have a database table (songtable) of songs where you want to remove the all the duplicate songs. The database has the columns title, band and year. While it is possible to do this all in one table, something about me likes to create a temporary table, verify it and then replace the original table.</p>

<p>Simply start by creating your temporary table.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="k">table</span> <span class="n">songtable_temp</span>
</span><span class='line'>    <span class="p">(</span><span class="n">title</span>  <span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
</span><span class='line'>     <span class="n">band</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
</span><span class='line'>     <span class="k">year</span>   <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now that we have our temporary table we just throw in all the values from our original songtable making sure we use group by. Group by will catch all copies and consolidate them.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">INSERT</span> <span class="k">into</span> <span class="n">songtable_temp</span>
</span><span class='line'>    <span class="k">SELECT</span> <span class="n">title</span><span class="p">,</span><span class="n">band</span><span class="p">,</span><span class="k">year</span>
</span><span class='line'>    <span class="k">FROM</span> <span class="n">songtable</span>
</span><span class='line'>    <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">title</span><span class="p">,</span><span class="n">band</span><span class="p">,</span><span class="k">year</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this example you would definitely need to group by title and band since multiple bands can record the same song and grouping by year might also be a good thing since bands often re-release versions of the song. Now that you have the correct values, you just need to clear the original table.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">TRUNCATE</span> <span class="k">table</span> <span class="n">songtable</span>
</span></code></pre></td></tr></table></div></figure>


<p>It is important you use truncate rather than delete or drop. Delete is generally just for removing specific rows and drop removes the table all together. Truncate removes everything from the table but keeps it structure intact. Now we can put all the values back into the first table with the duplicates removed.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">INSERT</span> <span class="k">into</span> <span class="n">songtable</span>
</span><span class='line'>    <span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="n">songtable_temp</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now just drop the temporary table and you are finished.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">DROP</span> <span class="k">table</span> <span class="n">songtable_temp</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/24/ci-servers-for-fun-and-profit/">CI Servers for Fun and Profit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-24T10:18:00-04:00" pubdate data-updated="true">Oct 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I turned an old desktop into a CI server and then for fun I connected a green and a red lava lamp into it to go off when the tests are passing or not. It was a pretty simple process with only a few gotchas.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/24/ci-servers-for-fun-and-profit/">&#127356;&#127358;&#127361;&#127348; &#9758;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/14/validate-email-without-regex/">Validate Email Without Regex</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-14T11:20:00-04:00" pubdate data-updated="true">Sep 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There has been some talk recently about validating e-mail without using regular expressions.</p>

<p>I&#8217;m sure we&#8217;ve all used or seen something like this:</p>

<figure class='code'><figcaption><span>Validating e-mail with regex</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">attr_accessible</span> <span class="ss">:email</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">email_regex</span> <span class="o">=</span> <span class="sr">/\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">validates</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:presence</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
</span><span class='line'>                    <span class="ss">:format</span>   <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="n">email_regex</span> <span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>It works, but it uses the evil regex.</p>

<hr />

<h4>What&#8217;s my solution?</h4>

<p>David Cellis recently <code><a href="http://davidcelis.com/blog/2012/09/06/stop-validating-email-addresses-with-regex/">posted how he does it</a></code> and I thought I&#8217;d also provide how I do it as well. I really like David&#8217;s solution and also understand that mine is probably overkill but I do feel that mine will catch more invalid e-mails that David&#8217;s way misses.</p>

<p>The user model:</p>

<figure class='code'><figcaption><span>user.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">validates</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:presence</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>From here I use a custom rails validator which I call <code>app/validators/email_validator.rb</code>.</p>

<p>Here is my validator file:</p>

<figure class='code'><figcaption><span>email_validator.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;mail&#39;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">EmailValidator</span> <span class="o">&lt;</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">EachValidator</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">validate_each</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">attribute</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
</span><span class='line'>    <span class="k">begin</span>
</span><span class='line'>      <span class="n">m</span> <span class="o">=</span> <span class="no">Mail</span><span class="o">::</span><span class="no">Address</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span class='line'>      <span class="n">r</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">domain</span> <span class="o">&amp;&amp;</span> <span class="n">m</span><span class="o">.</span><span class="n">address</span> <span class="o">==</span> <span class="n">value</span>
</span><span class='line'>      <span class="n">t</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">__send__</span><span class="p">(</span><span class="ss">:tree</span><span class="p">)</span>
</span><span class='line'>      <span class="n">r</span> <span class="o">&amp;&amp;=</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">dot_atom_text</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="k">rescue</span> <span class="no">Exception</span> <span class="o">=&gt;</span> <span class="n">e</span>
</span><span class='line'>      <span class="n">r</span> <span class="o">=</span> <span class="kp">false</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">record</span><span class="o">.</span><span class="n">errors</span><span class="o">[</span><span class="n">attribute</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">options</span><span class="o">[</span><span class="ss">:message</span><span class="o">]</span> <span class="o">||</span> <span class="s2">&quot;is invalid&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="n">r</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h4>No regex!</h4>

<p>If are not familiar with rails validators they function much the same way as initializers (<code>/config/initializers/</code>) in that rails will load them at startup if they are in your <code>app/validators/</code> directory. If you want them in another directory such as <code>lib/validators/</code> which seems to the convention simply add the following to your <code>config/application.rb</code> file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">autoload_paths</span> <span class="o">+=</span> <span class="sx">%W[&quot;</span><span class="si">#{</span><span class="n">config</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="sx">/lib/validators/&quot;]</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/21/screen-vs-tmux/">Screen vs. Tmux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-21T20:14:00-04:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am a long time fan and user of <code><a href="http://www.gnu.org/s/screen">GNU Screen</a></code> and when I began pair-programming I found out that I had to use <code><a href="http://tmux.sourceforge.net/">Tmux</a></code> in order to pair program remotely (ie- via ssh) I was a little dismayed at this new barrier to entry, especially since I was still in my early development days. I did a little digging into screen and it turned out that sharing a screen session is just as easy as in tmux. Here is how you do it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#First - Set permissions on the screen directory.
</span><span class='line'>chmod 755 /var/run/screen
</span><span class='line'>#Second - Create a session (the -S flag gives it the name shared)
</span><span class='line'>screen -S shared
</span><span class='line'>#Third - Make the screen multiuser and give access to the someone else.
</span><span class='line'>ctrl-a :multiuser on
</span><span class='line'>ctrl-a :acladd bob #assuming bob is the unix username of the person to share the session with.
</span><span class='line'>#Have bob (the other user) join the session. (Bob types this)
</span><span class='line'>screen -x sean/shared #assuming he is joining sean's screen
</span><span class='line'>#Voila! You are both sharing a session!</span></code></pre></td></tr></table></div></figure>


<hr />

<h4>Is one better than the other?</h4>

<p>Ultimately, it comes down to personal preference. Several people whom I have the utmost respect for, namely <a href="http://evan.tiggerpalace.com/articles/2011/10/17/some-people-call-me-the-remote-pairing-guy-/">Evan Light</a> and <a href="http://www.rubygeek.com/2012/02/26/screen-multiplexing-productivity/">Nola Stowe</a> are both proponents of Tmux and even the good people at Thoughtbot have put together a <a href="http://robots.thoughtbot.com/post/2641409235/a-tmux-crash-course">crash course on the topic.</a></p>

<p><strong>Unfortunately, I disagree.</strong></p>

<p>The &#8220;advantage&#8221; of Tmux over Screen is that is allows you to divide your unix screen up into multiple windows. I&#8217;ve heard story after story of how people split their screen with windows for editing, koans, fun, and so forth. <strong>That is the crux of my complaint.</strong></p>

<p>As humans, our <code>locus of attention</code> only allows us to focus on a single task at a time. So, by using Tmux, all you are accomplishing is that you are making your workspace smaller. So unless you are like me and lucky to have a thunderbolt display where you have ample screen real estate where dividing up your screen isn&#8217;t going to change your usability, I would suggest sticking with screen and creating multiple screens and just label them efficiently.</p>

<p>I was perusing the book <code>The Art of Unix Usability</code> by Eric Steven Raymond and Rob W. Landley and they reinforce this idea in their chapter on <a href="http://www.catb.org/esr/writings/taouu/html/ch04s01.html">Novelty, Consciousness, and the Single Locus of Attention</a>.</p>

<p>They sum their issues into two laws which they attribute to Jef Raskin as he wrote about them first, in his book, <em>The Humane Interface</em>.</p>

<ul>
<li>Raskin&#8217;s First Law: Most human beings can only concentrate on one thing at a time.</li>
<li>Raskin&#8217;s Second Law: Humans take up to ten seconds to prepare for tasks requiring conscious cognition, during which they are unaware of passing time.</li>
</ul>


<p>The entire book is available <a href="http://www.catb.org/esr/writings/taouu/html/">free online</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/20/ive-moved-my-blog-to-octopress/">I&#8217;ve Moved My Blog to Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-20T19:27:00-04:00" pubdate data-updated="true">Aug 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve decided to move my blog off wordpress for a couple of reasons:</p>

<ul>
<li>From a Pragmatic standpoint, I was going to have to start paying for hosting and since Github offers <a href="http://pages.github.com//" title="Github Pages">free pages</a> it made financial sense.</li>
<li>Octopress is powered by Jekyl so it appeals to the rubyist in me.</li>
<li>Will make it so I won&#8217;t need a cheatsheet when using markdown.</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/08/20/ive-moved-my-blog-to-octopress/">&#127356;&#127358;&#127361;&#127348; &#9758;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="about">
  <h1>About the author</h1>
  <p>
    <img src="/images/me.png"/>
    I am a web developer who works at <a href="http://www.gmu.edu" target="_blank">GMU</a> - a university in Fairfax, Virginia.
  </p>
  <p>I love anything Web related, new technologies, all things nerdy, coffee roasting, homebrewing and things dealing with statistics and data.</p>
  <p>I also co-founded and help run the best meetup group around, <a href="http://www.arlingtonruby.org" target="_blank">Arlington Ruby</a>!</p>
  <ul id='social-links'>
    <li class="atom"><a href="http://poignantcode.com/atom.xml" target="_blank" title="Subscribe to RSS"></a></li>
    <li class="github"><a href="http://github.com/seanmarcia" target="_blank" title="Github account"></a></li>
    <li class="twitter"><a href="http://twitter.com/#!/seanmarcia" target="_blank" title="Twitter stream"></a></li>
    <li class="linkedin"><a href="http://goo.gl/jYmTN" target="_blank" title="LinkedIn profile"></a></li>
  </ul>
    
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/21/refactoring/">Refactoring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/23/model-objects-caching/">Model Objects Caching</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/06/intro-to-devops/">Intro to DevOps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/28/my-irssi-setup/">My Irssi Setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/14/controller-clean-up/">Controller Clean-up</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/SeanMarcia">@SeanMarcia</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'SeanMarcia',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
<a class="twitter-timeline" href="https://twitter.com/seanmarcia" data-widget-id="356478747186176002">Tweets by @seanmarcia</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Sean Marcia -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress,</a> themed by <a href="mailto:teresa@poignantcode.com">Teresa Finn</a><a href</span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
